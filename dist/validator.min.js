!function(){"use strict";var e=function(){this.config={resumeOnFailed:!1}},r=r?r:new e,t=[],n={dateFormat:function(e,r){var t={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return r},extend:function(e,r){for(var t in r)e[t]=r[t];return e},inArray:function(e,r){for(var t=0;t<e.length;t++)if(e[t]===r)return!0;return!1},split:function(e,r,t){if(!e)return[];for(var n=e.split(t),i=[],a=0;a<n.length;a++)for(var f=n[a].split(r),o=0;o<f.length;o++)a>0&&0===o?i[i.length-1]+=r+f[o]:i.push(f[o]);return i},"typeof":function(e){var r=Object.prototype.toString.call(e),t=(r=r.split(" "))&&r.length>1?r[1].substr(0,r[1].length-1):"";return t.toLowerCase()},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")}};e.prototype.requires={required:function(e,r){return"undefined"!=typeof e[r]},required_if:function(){if(arguments.length<4||arguments.length%2!=0)return!1;for(var e=arguments[0],r=arguments[1],t=2;t<arguments.length;t+=2){var n=arguments[t],i=arguments[t+1];if(!e[n]||e[n]!=i)return!0}return this.requires.required(r)},required_with:function(){if(arguments.length<3)return!1;for(var e=arguments[0],r=arguments[1],t=2;t<arguments.length;t++)if(arguments[t]in e)return this.requires.required(r);return!0},required_with_all:function(){if(arguments.length<3)return!1;for(var e=arguments[0],r=arguments[1],t=2;t<arguments.length;t++)if(!(arguments[t]in e))return!0;return this.requires.required(r)},required_without:function(){if(arguments.length<3)return!1;for(var e=arguments[0],r=arguments[1],t=2;t<arguments.length;t++)if(!(arguments[t]in e))return this.requires.required(r);return!0},required_without_all:function(){if(arguments.length<3)return!1;for(var e=arguments[0],r=arguments[1],t=2;t<arguments.length;t++)if(arguments[t]in e)return!0;return this.requires.required(r)}},e.prototype.validators={accepted:/^(yes|on|1|true)$/i,after:function(e,r,t){var n=Date.parse(t),i=Date.parse(r);return!isNaN(n)&&!isNaN(i)&&n<i},alpha:/^[A-Za-z]+$/,alpha_dash:/^[0-9A-Za-z_-]+$/,alpha_num:/^[0-9A-Za-z]+$/,array:function(e,r){return"[object Array]"===Object.prototype.toString.apply(r)},before:function(e,r,t){var n=Date.parse(t),i=Date.parse(r);return!isNaN(n)&&!isNaN(i)&&n>i},between:function(e,r,t,i){var a=!1;switch(t=Number(t),i=Number(i),n["typeof"](r)){case"string":a=r.localeCompare(t)>=0&&r.localeCompare(i)<=0;break;case"number":a=r>=t&&r<=i;break;case"filelist":a=!!r.length;for(var f in r)if(a&&r.hasOwnProperty(f)&&"file"===n["typeof"](r[f])){var o=r[f];if(a=a&&parseInt(o.size/1024)>=t&&parseInt(o.size/1024)<=i,!a)break}break;case"file":a=parseInt(r.size/1024)>=t&&parseInt(r.size/1024)<=i}return a},"boolean":/^(true|false|1|0|"1"|"0"|'1'|'0')$/i,date:function(e,r){return!isNaN(Date.parse(r))},date_format:function(e,r,t){var i=new Date(Date.parse(r)),a=n.dateFormat(i,t);return r===a},different:function(e,r,t){return r!=e[t]},digits:function(e,r,t){var n=new RegExp("^[0-9]{"+t+"}$");return n.test(r)},digits_between:function(e,r,t,n){var i=new RegExp("^[0-9]{"+t+","+n+"}$");return i.test(r)},email:/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,"in":function(){return!(arguments.length<=2)&&n.inArray(Array.prototype.slice.call(arguments,2),arguments[1])},integer:function(e,r){return"number"===n["typeof"](r)&&isFinite(r)&&(0|r)===r},ip:function(e,r){var t=/((?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))))/,n=/^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$/;return t.test(r)||n.test(r)},max:function(e,r,t){var i=!1;switch(t=Number(t),n["typeof"](r)){case"string":i=r.localeCompare(t)<=0;break;case"number":i=r<=t;break;case"filelist":i=!!r.length;for(var a in r)if(i&&r.hasOwnProperty(a)&&"file"===n["typeof"](r[a])){var f=r[a];i=i&&parseInt(f.size/1024)<=t}break;case"file":i=parseInt(r.size/1024)<=t}return i},mimes:function(){if(arguments.length<=2)return!1;var e,r,t=arguments[1],n=/\.([^\.]*)?$/;return!(null===(e=n.exec(t))||e.length<2)&&(r=e[1],this.validators.inArray(Array.prototype.slice.call(arguments,2),r))},min:function(e,r,t){var i=!1;switch(t=Number(t),n["typeof"](r)){case"string":i=r.localeCompare(t)>=0;break;case"number":i=r>=t;break;case"filelist":i=!!r.length;for(var a in r)if(i&&r.hasOwnProperty(a)&&"file"===n["typeof"](r[a])){var f=r[a];if(i=i&&parseInt(f.size/1024)>=t,!i)break}break;case"file":i=parseInt(r.size/1024)>=t}return i},not_in:function(){return!(arguments.length<=2)&&!this.validators.inArray(Array.prototype.slice.call(arguments,2),arguments[1])},numeric:function(e,r){return"number"===n["typeof"](r)&&isFinite(r)},regex:function(e,r,t){var n=new RegExp(t);return n.test(r)},same:function(e,r,t){return r===e[t]},size:function(e,r,t){var i=!1;switch(t=Number(t),n["typeof"](r)){case"string":i=t===r.length;break;case"number":i=r===t;break;case"filelist":i=!!r.length;for(var a in r)if(i&&r.hasOwnProperty(a)&&"file"===n["typeof"](r[a])){var f=r[a];i=i&&parseInt(f.size/1024)===t}break;case"file":i=parseInt(r.size/1024)===t}return i},string:function(e,r){return"string"===n["typeof"](r)},url:/^((https|http|ftp|rtsp|mms)?:\/\/)?(([0-9a-z_!~*\'().&=+$%-]+: )?[0-9a-z_!~*\'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*\'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*\'().;?:@&=+$,%#-]+)+\/?)$/},e.prototype.add=function(e,r){"function"===n["typeof"](r)||"regexp"===n["typeof"](r)?this.validators[e]=r:console.error("Invalid validator function or regular expression!")},e.prototype.setConfig=function(e){this.config=n.extend(this.config,e)};var i=function(e){for(var r=n.split(e,"|","\\|"),t=[],i=0;i<r.length;i++){var a=n.split(r[i],":","\\:");if(a.length){var f=a[0],o=[];2===a.length&&(o=n.split(a[1],",","\\,")),f=n.trim(f);for(var u=0;u<o.length;u++)o[u]=n.trim(o[u]);t.push({key:f,value:o})}}return t},a=function(e,t,i,a){if(!(i.key in t))return!0;var f=t[i.key];return"function"===n["typeof"](f)?(i.value.unshift(e,a),f.apply(r,i.value)):"RegExp"===f.constructor.name?f.test(a):void 0},f=function(e,r){for(var o in r){var u,s=r[o];if("object"===n["typeof"](s)&&o in e){if(f.apply(this,[e[o],r[o]])||this.config.resumeOnFailed)continue;return!1}"string"===n["typeof"](s)&&(u=i(s));for(var d=0;d<u.length;d++){var l=u[d].key;u[d].value;if((!a(e,this.requires,u[d],o)||o in e&&!a(e,this.validators,u[d],e[o]))&&(t.push({object:e,field:o,rule:l}),!this.config.resumeOnFailed))return!1}}return!0};e.prototype.validate=function(e,r){if("string"===n["typeof"](e))try{e=JSON.parse(e)}catch(i){return{status:"failed",rejects:[{object:"Invalid JSON string!"}]}}return t=[],f.apply(this,[e,r]),{status:t.length?"failed":"success",rejects:t}},"undefined"!=typeof require&&"undefined"!=typeof module&&"undefined"!=typeof exports?module.exports=new e:"undefined"!=typeof define?define.amd?define(function(){return new e}):define.cmd&&define(function(r,t,n){n.exports=new e}):"undefined"!=typeof window&&(window.Validator=new e)}();